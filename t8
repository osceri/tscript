function vibe_check(count_func, action_func, lower, upper)
  level = count_func()
  
  print("Level: ", count_func())
  
  if level < lower then
    print("Level below threshold (", lower, ")!")
    write("Refueling ..")
    while level < upper do
      if not(action_func()) then
        print(" failed.")
        
        print("Level: ", count_func())
        return false
        
      end
      write(".")
      level = count_func()
    end
    print(" succeeded.")
    print("Level: ", count_func())
  end
  
  return true
end

function level_fix(name, count_func, action_func, lower, upper)
  level = count_func()
  
  if level < lower then
    write("Fixing", name, "level ..")
    while level < upper do
      if not(action_func()) then
        print(" failed.")
        return false
      end
      write(".")
      level = count_func()
    end
    print(" succeeded.")
  end
  
  return true
end

function level_check(name, count_func, action_func, lower, upper)
  level = count_func()
  
  print(name, "level:", count_func())
  
  if level < lower then
    return false
  end
  
  return true
end
